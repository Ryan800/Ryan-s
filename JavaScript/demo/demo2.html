/*
	这是一段注释。
*/
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
		<title>iRock = The Virtual Pet Rock</title>
		<style type="text/css">
			span.decision {
				font-weight: bold;
				border: thin solid #000000;
				padding: 5px;
				background-color: #FFFFFF;
			}
			span.decisioninverse {
				font-weight: bold;
				color: #FFFFFF;
				border: thin solid #DDDDDD;
				padding: 5px;
				background-color: #000000;
			}
			span.decisionhover {
				font-weight: bold;
				border: thin solid #000000;
				padding: 5px;
				background-color: #EEEEEE;
			}
		</style>		
		<script type="text/javascript">
			var userName;
			function greetUser() {
				alert("Hello, I am your pet rock.");
			}
			function touchRock() {
				if (userName) {
					alert('I like the attention,' + userName + ".Thank you.");
				} else {
					userName =  prompt("What is your name?", "Enter your name here.");
					if (userName) {
						alert('It is good to meet you, '+ userName + ".");
					}
				}
				document.getElementById("rockImg").src = "img/rock_happy.png";
				setTimeout("document.getElementById('rockImg').src = 'img/rock.png';", 5 * 60 * 1000);
			}
			function getSize() {
				var height = document.getElementById('rockImg').style.height;
				alert("src height:"+height);
			}
			function resizeRock() {
				document.getElementById('rockImg').style.height = (document.body.clientHeight-100)*0.9;
			}

			document.getElementById("rockImg").onclick = function(evt) {
				getSize();
			}

			function aler() {
				alert("I'm a alert dialog!");
			}

			window.onload = function() {
				document.getElementById("rockImg").onclick = aler;
			}
			function validateNonEmpty(inputField, helpText) {
				if (inputField.value.length == 0) {
					if (helpText!=null) {
						helpText.innerHTML = "Please enter a value.";
					}
					return false;
				} else if (isNaN(inputField.value)) {
					if (helpText != null) {
						helpText.innerHTML = "Please enter a number.";
					}
					return false;
				} else {
					if (helpText != null) {
						helpText.innerHTML = "";
					}
					return true;
				}
			}

			function placeOrder(form) {
				if (validateNonEmpty(1, 32, form["message"], form["message_help"])
			}

			function validateRegEx(regex, inputStr, helpText, helpMessage) {
				if (!regex.test(inputStr)) {
					if (helpText != null) {
						helpText.innerHTML = helpMessage;
					}
					return false;
				} else {
					if (helpText != null) {
						helpText.innerHTML = "";
					}
					return true;
				}
			}

			function validateDate(inputField, helpText) {
				if (!validateNonEmpty(inputField, helpText)) {
					return false;
				}
				return validateRegEx(/^\d{2}\/\d{2}\/\d{4}$/, inputField.value, helpText, "Please enter a date(for example, 01/14/1975).");
			}

			function getDivs() {
				var divs = document.getElementsByTagName("div"); //返回数组
			}

			function alertNodeValue() {
				// alert("sdfd");
				document.getElementById("story").firstChild.nodeValue = "wangbingwen";
			}

			function replaceNodeText(id, newText) {
				var node = document.getElementById(id);
				while(node.firstChild) {
					node.removeChild(node.firstChild);
				}
				node.appendChild(document.createTextNode(newText));
			}

			function changeScene(type) {
				if (type == 1) {
					document.getElementById("decision1").className = "decisioninverse";
					document.getElementById("decision2").style.visibility = "visible";
				}
			}
		</script>
	</head>
	<body onload="resizeRock();greetUser();" onresize="resizeRock();">
		<div style="margin-top:100px; text-align:center">
			<img id="rockImg" src="img/rock.png" alt="iRock" style="cursor:pointer" onclick="touchRock();getSize();" />
		</div>
		<p id="story">
			You are <strong>not</strong> alone.
		</p>

		<div>
			<input id="phone" name="phone" type="text" size="12" onblur="validateNonEmpty(this, document.getElementById('phone_help'));" />
			<span id="phone_help" class="help"></span>
		</div>
		<input type="button" value="Alert NodeValue" onclick="alertNodeValue();" /> <br>
		<span id="decision1" class="decision" onclick="changeScene(1)" style="cursor:pointer" onmousehover="this.className='decisionhover'" onmouseout="this.className='decision'">Start Game</span>
		<span id="decision2" class="decision" onclick="changeScene(2)" style="visibility:hidden"></span>
	</body>
</html>